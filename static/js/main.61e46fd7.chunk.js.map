{"version":3,"sources":["components/App/App.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Modal/Modal.jsx","components/ImageFinder/helpers.js","components/ImageFinder/ImageFinder.jsx","components/App/App.jsx","index.js","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","search","onChange","onSubmit","className","styles","searchForm","type","autoComplete","placeholder","value","name","PhotoCard","id","webformatURL","largeImageURL","likes","views","comments","downloads","openModal","photoCard","src","alt","stats","statsItem","fullscreenButton","onClick","Gallery","images","onFetchMore","gallery","map","img","key","button","disabled","length","Modal","pickedImg","onCloseModal","overlay","role","modal","apiKey","parseArr","arr","parsedArr","el","parsedImage","push","ImageFinder","state","isModal","handleFetch","e","preventDefault","url","axios","get","then","res","data","hits","setState","page","scrollPoint","handleFetchMore","target","nextPage","offsetTop","prev","concat","handleChange","handleModal","window","addEventListener","handleCloseModal","localName","prevProps","prevState","prevImages","this","scrollTo","top","behavior","Component","App","app","ReactDOM","render","document","getElementById"],"mappings":"4IACAA,EAAOC,QAAU,CAAC,IAAM,mB,kBCAxBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,sC,mBCAxJD,EAAOC,QAAU,CAAC,WAAa,iC,sDCA/BD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,0B,sLCsB/CC,EAnBI,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,SAAUC,EAArB,EAAqBA,SAArB,OACjB,0BAAMC,UAAWC,IAAOC,WAAYH,SAAUA,GAC5C,2BACEI,KAAK,OACLC,aAAa,MACbC,YAAY,mBACZC,MAAOT,EACPU,KAAK,SACLT,SAAUA,M,gCCiDDU,EAzDG,SAAC,GASZ,IARLC,EAQI,EARJA,GACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,cACAC,EAKI,EALJA,MACAC,EAII,EAJJA,MACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,UACAC,EACI,EADJA,UAGA,OACE,yBAAKhB,UAAWC,IAAOgB,UAAWR,GAAIA,GACpC,yBAAKS,IAAKR,EAAcS,IAAI,KAE5B,yBAAKnB,UAAWC,IAAOmB,OACrB,uBAAGpB,UAAWC,IAAOoB,WACnB,uBAAGrB,UAAU,kBAAb,YACCY,GAEH,uBAAGZ,UAAWC,IAAOoB,WACnB,uBAAGrB,UAAU,kBAAb,cACCa,GAEH,uBAAGb,UAAWC,IAAOoB,WACnB,uBAAGrB,UAAU,kBAAb,WACCc,GAEH,uBAAGd,UAAWC,IAAOoB,WACnB,uBAAGrB,UAAU,kBAAb,kBACCe,IAIL,4BACEZ,KAAK,SACLH,UAAWC,IAAOqB,iBAClBC,QA3Bc,kBAAMP,EAAUL,IA4B9BJ,KAAK,gBAEL,uBAAGP,UAAU,kBAAb,mBCJOwB,EAnCC,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,YAAaV,EAAxB,EAAwBA,UAAxB,OACd,oCACE,wBAAIhB,UAAWC,IAAO0B,SACnBF,EAAOG,IAAI,SAAAC,GAAG,OACb,kBAAC,EAAD,eAAWC,IAAKD,EAAIpB,IAAQoB,EAA5B,CAAiCb,UAAWA,QAGhD,4BACEb,KAAK,SACLI,KAAK,YACLP,UAAWC,IAAO8B,OAClBC,SAAUP,EAAOQ,OAAS,GAC1BV,QAASG,GALX,e,gBCKWQ,EAbD,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAWC,EAAd,EAAcA,aAAd,OACZ,yBAAKpC,UAAWC,IAAOoC,QAASd,QAASa,EAAcE,KAAK,gBAC1D,yBAAKtC,UAAWC,IAAOsC,OACrB,yBAAKrB,IAAKiB,EAAWhB,IAAI,yBCPlBqB,EAAS,qCAETC,EAAW,SAAAC,GACtB,IAAMC,EAAY,GAalB,OAZAD,EAAId,IAAI,SAAAgB,GACN,IAAMC,EAAc,CAClBpC,GAAImC,EAAGnC,GACPC,aAAckC,EAAGlC,aACjBC,cAAeiC,EAAGjC,cAClBC,MAAOgC,EAAGhC,MACVC,MAAO+B,EAAG/B,MACVC,SAAU8B,EAAG9B,SACbC,UAAW6B,EAAG7B,WAEhB,OAAO4B,EAAUG,KAAKD,KAEjBF,GCgGMI,E,2MAxGbC,MAAQ,CACNnD,OAAQ,GACR4B,OAAQ,GACRwB,SAAS,G,EAeXC,YAAc,SAAAC,GACZA,EAAEC,iBADe,IAETvD,EAAW,EAAKmD,MAAhBnD,OAEFwD,EAAG,6EAAyExD,EAAzE,iBADI,EACJ,4BAAgH2C,GAEzHc,IAAMC,IAAIF,GAAKG,KAAK,SAAAC,GAClB,IAAMf,EAAMe,EAAIC,KAAKC,KACfhB,EAAYF,EAASC,GAC3B,EAAKkB,SAAS,CACZnC,OAAQkB,EACRkB,KAAM,EACNC,YAAa,O,EAKnBC,gBAAkB,YAAiB,IAAdC,EAAa,EAAbA,OAAa,EACP,EAAKhB,MAAtBnD,EADwB,EACxBA,OACFoE,EAF0B,EAChBJ,KACQ,EAClBR,EAAG,6EAAyExD,EAAzE,iBAAwFoE,EAAxF,4BAAoHzB,GAC7Hc,IAAMC,IAAIF,GAAKG,KAAK,SAAAC,GAClB,IAAMf,EAAMe,EAAIC,KAAKC,KACfhB,EAAYF,EAASC,GACrBoB,EAAcE,EAAOE,UAAY,GACvC,EAAKN,SAAS,SAAAO,GAAI,MAAK,CACrB1C,OAAQ,YAAI0C,EAAK1C,QAAQ2C,OAAOzB,GAChCkB,KAAMI,EACNH,oB,EAKNO,aAAe,YAAiB,IAAdL,EAAa,EAAbA,OACRzD,EAAgByD,EAAhBzD,KAAMD,EAAU0D,EAAV1D,MACd,EAAKsD,SAAL,eACGrD,EAAOD,K,EAIZgE,YAAc,SAAAjB,GACZ,EAAKO,SAAS,CACZX,SAAS,EACTd,UAAWkB,IAEbkB,OAAOC,iBAAiB,QAAS,YACnB,WADgC,EAAV1C,KAEhC,EAAK8B,SAAS,CACZX,SAAS,O,EAMjBwB,iBAAmB,YACQ,QADQ,EAAbT,OACTU,WACT,EAAKd,SAAS,CACZX,SAAS,K,kFArEI0B,EAAWC,GAC5B,IAAMC,EAAaD,EAAUnD,OACrBA,EAAWqD,KAAK9B,MAAhBvB,OACR,GAAIoD,EAAW5C,SAAWR,EAAOQ,QAAgC,IAAtB4C,EAAW5C,OAAc,CAAC,IAC3D6B,EAAgBgB,KAAK9B,MAArBc,YACRS,OAAOQ,SAAS,CACdC,IAAKlB,EACLmB,SAAU,c,+BAmEN,IAAD,EACwCH,KAAK9B,MAA5CnD,EADD,EACCA,OAAQ4B,EADT,EACSA,OAAQwB,EADjB,EACiBA,QAASd,EAD1B,EAC0BA,UACjC,OACE,oCACE,kBAAC,EAAD,CACEtC,OAAQA,EACRC,SAAUgF,KAAKT,aACftE,SAAU+E,KAAK5B,cAEhBzB,EAAOQ,OAAS,EACf,kBAAC,EAAD,CACER,OAAQA,EACRC,YAAaoD,KAAKf,gBAClB/C,UAAW8D,KAAKR,cAEhB,KACHrB,GACC,kBAAC,EAAD,CAAOd,UAAWA,EAAWC,aAAc0C,KAAKL,wB,GAlGhCS,aCEXC,EALH,kBACV,yBAAKnF,UAAWC,IAAOmF,KACrB,kBAAC,EAAD,QCFJC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCHjD9F,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.61e46fd7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3S5YI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__19rje\",\"stats\":\"PhotoCard_stats__1TdpB\",\"statsItem\":\"PhotoCard_statsItem__22OHI\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3y43j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2oluZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2V0F1\",\"button\":\"Gallery_button__1nm_E\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ search, onChange, onSubmit }) => (\n  <form className={styles.searchForm} onSubmit={onSubmit}>\n    <input\n      type=\"text\"\n      autoComplete=\"off\"\n      placeholder=\"Search images...\"\n      value={search}\n      name=\"search\"\n      onChange={onChange}\n    />\n  </form>\n);\n\nSearchForm.propTypes = {\n  search: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  id,\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  openModal,\n}) => {\n  const handleModal = () => openModal(largeImageURL);\n  return (\n    <div className={styles.photoCard} id={id}>\n      <img src={webformatURL} alt=\"\" />\n\n      <div className={styles.stats}>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={styles.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n\n      <button\n        type=\"button\"\n        className={styles.fullscreenButton}\n        onClick={handleModal}\n        name=\"modal-button\"\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nPhotoCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nconst Gallery = ({ images, onFetchMore, openModal }) => (\n  <>\n    <ul className={styles.gallery}>\n      {images.map(img => (\n        <PhotoCard key={img.id} {...img} openModal={openModal} />\n      ))}\n    </ul>\n    <button\n      type=\"button\"\n      name=\"load-more\"\n      className={styles.button}\n      disabled={images.length < 12}\n      onClick={onFetchMore}\n    >\n      Load more\n    </button>\n  </>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onFetchMore: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst Modal = ({ pickedImg, onCloseModal }) => (\n  <div className={styles.overlay} onClick={onCloseModal} role=\"presentation\">\n    <div className={styles.modal}>\n      <img src={pickedImg} alt=\"some from pixabay\" />\n    </div>\n  </div>\n);\n\nModal.propTypes = {\n  pickedImg: PropTypes.string.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","export const apiKey = '13839766-460ea5cbfd5c036a6d520e55a';\n\nexport const parseArr = arr => {\n  const parsedArr = [];\n  arr.map(el => {\n    const parsedImage = {\n      id: el.id,\n      webformatURL: el.webformatURL,\n      largeImageURL: el.largeImageURL,\n      likes: el.likes,\n      views: el.views,\n      comments: el.comments,\n      downloads: el.downloads,\n    };\n    return parsedArr.push(parsedImage);\n  });\n  return parsedArr;\n};\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Modal from '../Modal/Modal';\nimport { apiKey, parseArr } from './helpers';\n\nclass ImageFinder extends Component {\n  state = {\n    search: '',\n    images: [],\n    isModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevImages = prevState.images;\n    const { images } = this.state;\n    if (prevImages.length !== images.length && prevImages.length !== 0) {\n      const { scrollPoint } = this.state;\n      window.scrollTo({\n        top: scrollPoint,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleFetch = e => {\n    e.preventDefault();\n    const { search } = this.state;\n    const page = 1;\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${page}&per_page=12&key=${apiKey}`;\n\n    axios.get(url).then(res => {\n      const arr = res.data.hits;\n      const parsedArr = parseArr(arr);\n      this.setState({\n        images: parsedArr,\n        page: 2,\n        scrollPoint: 0,\n      });\n    });\n  };\n\n  handleFetchMore = ({ target }) => {\n    const { search, page } = this.state;\n    const nextPage = page + 1;\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${nextPage}&per_page=12&key=${apiKey}`;\n    axios.get(url).then(res => {\n      const arr = res.data.hits;\n      const parsedArr = parseArr(arr);\n      const scrollPoint = target.offsetTop - 10;\n      this.setState(prev => ({\n        images: [...prev.images].concat(parsedArr),\n        page: nextPage,\n        scrollPoint,\n      }));\n    });\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleModal = url => {\n    this.setState({\n      isModal: true,\n      pickedImg: url,\n    });\n    window.addEventListener('keyup', ({ key }) => {\n      if (key === 'Escape') {\n        this.setState({\n          isModal: false,\n        });\n      }\n    });\n  };\n\n  handleCloseModal = ({ target }) => {\n    if (target.localName !== 'img') {\n      this.setState({\n        isModal: false,\n      });\n    }\n  };\n\n  render() {\n    const { search, images, isModal, pickedImg } = this.state;\n    return (\n      <>\n        <SearchForm\n          search={search}\n          onChange={this.handleChange}\n          onSubmit={this.handleFetch}\n        />\n        {images.length > 0 ? (\n          <Gallery\n            images={images}\n            onFetchMore={this.handleFetchMore}\n            openModal={this.handleModal}\n          />\n        ) : null}\n        {isModal && (\n          <Modal pickedImg={pickedImg} onCloseModal={this.handleCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport styles from './App.module.css';\nimport ImageFinder from '../ImageFinder/ImageFinder';\n\nconst App = () => (\n  <div className={styles.app}>\n    <ImageFinder />\n  </div>\n);\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__D9tIn\",\"modal\":\"Modal_modal__2Vvrv\"};"],"sourceRoot":""}